<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <script type='text/javascript' src="https://unpkg.com/angular@^1.6.4/angular.js"></script>
    <script type='text/javascript' src="https://unpkg.com/moment@^2.18.1"></script>
    <script type='text/javascript' src="https://unpkg.com/moment-range@^3.0.3"></script>

    <script type='text/javascript' src="https://unpkg.com/angular-ui-tree@^2.22.5/dist/angular-ui-tree.min.js"></script>
    <link rel="stylesheet" type="text/css"
          href="https://unpkg.com/angular-ui-tree@^2.22.5/dist/angular-ui-tree.min.css"/>

    <script type='text/javascript' src="https://unpkg.com/angular-native-dragdrop@^1.2.2/draganddrop.js"></script>

    <script type='text/javascript' src="https://unpkg.com/css-element-queries@^0.4.0/src/ElementQueries.js"></script>
    <script type='text/javascript' src="https://unpkg.com/css-element-queries@^0.4.0/src/ResizeSensor.js"></script>

    <script type='text/javascript' src="https://unpkg.com/jsplumb@^2.3.2"></script>

    <link rel="stylesheet" type="text/css" href="https://unpkg.com/font-awesome@^4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/bootstrap@^3.3.7/dist/css/bootstrap.min.css"/>

    <script type='text/javascript' src="https://unpkg.com/angular-gantt@latest"></script>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/angular-gantt@latest/dist/angular-gantt.css"/>

    <script type="text/javascript">
        // <![CDATA[
        let ganttData = JSON.parse(`#{ganttBean.data}`);
        // ]]>
    </script>
    <h:outputScript library="js" name="script.js"/>

</h:head>

<h:body>
    <div id="ganttChart" ng-app="plnkrGanttStable" ng-controller="Ctrl">
        <div gantt="" api="registerApi" id="gantt" data="data">
            <gantt-table columns="['model.name']"></gantt-table>
            <gantt-tree></gantt-tree>
            <gantt-groups></gantt-groups>
            <gantt-tooltips></gantt-tooltips>
            <gantt-bounds></gantt-bounds>
            <gantt-progress></gantt-progress>
            <gantt-sortable></gantt-sortable>
            <gantt-movable></gantt-movable>
            <gantt-draw-task></gantt-draw-task>
            <gantt-resize-sensor></gantt-resize-sensor>
            <gantt-overlap></gantt-overlap>
            <gantt-dependencies></gantt-dependencies>
        </div>
    </div>
    <h:form id="updateForm">
        <p:growl id="growl" showDetail="true" sticky="true" />
        <p:inputText id="updateData" binding="#{updateData}"></p:inputText>
        <p:commandButton value="Save" actionListener="#{ganttBean.pushData(updateData.value)}" update="growl">
            <f:ajax execute="updateData" render="ganttChart"></f:ajax>
        </p:commandButton>
    </h:form>
    <script type="text/javascript">
        let ganttContainer = document.getElementById("gantt");
        ganttContainer.setAttribute("gantt", "");
    </script>
</h:body>
</html>
